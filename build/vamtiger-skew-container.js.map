{"version":3,"file":"vamtiger-skew-container.js","sources":["../node_modules/vamtiger-browser-method/source/types.ts","../node_modules/vamtiger-browser-method/source/define-custom-element.ts","../node_modules/vamtiger-browser-method/source/load-script.ts","../source/types.ts","../source/config.ts","../source/get-template.ts","../source/html/index.ts","../source/toggle-hide.ts","../source/toggle-focus.ts","../node_modules/vamtiger-browser-method/source/get-element-from-template.ts","../node_modules/vamtiger-browser-method/source/get-element-from-url.ts","../node_modules/vamtiger-browser-method/source/get-element.ts","../source/element.ts","../source/css/document-index.ts","../source/vamtiger-skew-container.ts","../source/load-template.ts"],"sourcesContent":["import * as tslib from '../node_modules/tslib/tslib';\nimport defineCustomElement from './define-custom-element';\n\nexport enum ScriptType {\n    jsonld = 'application/ld+json'\n}\n\nexport enum ScriptAttribute {\n    type = 'type'\n}\n\nexport enum ErrorMessage {\n    failedToLoadScript = 'Failed to load script',\n    windowPropertyNotSet = 'Window property not set',\n    unsupportedFeature = 'Unsupported feature',\n    customElementAreadyDefined = 'Custom element already defined',\n    noElementName = 'No Element Name',\n    noTemplateUrl = 'No Template URL',\n    noElementSelector = 'No Template Selector',\n    noTemplateForUrl = 'No Template for URL',\n    noTemplate = 'No Template',\n    noElementForSelector = 'No Element for Selector'\n}\n\nexport enum StringConstant {\n    slash = '/'\n}\n\nexport enum TagName {\n    div = 'div'\n}\n\nexport enum LinkRel {\n    stylesheet = 'stylesheet'\n}\n\nexport enum LoadScriptElement {\n    script = 'script',\n    link = 'link',\n    style = 'style'\n}\n\nexport enum Selector {\n    lastStylesheet = 'style:last-of-type',\n    webcomponentsjs = 'script[src*=\"@webcomponents\\/webcomponentsjs\"]'\n}\n\nexport interface ILoadRemoteScriptParams {\n    src: string;\n}\n\nexport interface ILoadRemoteStylesheetScriptParams {\n    href: string;\n}\n\nexport interface ILoadLocalScriptParams {\n    name: string;\n}\n\nexport interface ILoadScriptParams {\n    js: string;\n    jsonld?: boolean;\n}\n\nexport interface ILoadStylesheetScriptParams {\n    css: string;\n}\n\nexport interface ILoadScript {\n    params: LocalScriptParams\n        | LocalStylesheetScriptParams\n        | ILoadRemoteScriptParams\n        | ILoadRemoteStylesheetScriptParams;\n    reject: (error: Error) => void\n}\n\nexport interface ILoadShadowStylesheet {\n    css: string;\n    element: HTMLElement;\n}\n\nexport interface IDefineCustomElement {\n    name: string;\n    constructor: {\n        new (): HTMLElement\n        prototype: HTMLElement;\n    };\n    ignore?: boolean;\n}\n\nexport interface IPause {\n    milliseconds: number;\n}\n\nexport interface IGetElementBase {\n    name: string;\n}\n\nexport interface IGetElementTemplate extends IGetElementBase {\n    template: string;\n}\n\nexport interface IGetElementUrl extends IGetElementBase {\n    url: string;\n    selector:  string;\n}\n\nexport type TsLibType = typeof tslib;\n\nexport type TsLibKey = keyof TsLibType;\n\nexport type TsLib = {\n    [K in TsLibKey]: TsLibType[K]\n}\n\nexport type LocalScriptParams = ILoadLocalScriptParams & ILoadScriptParams;\n\nexport type LocalStylesheetScriptParams = ILoadLocalScriptParams & ILoadStylesheetScriptParams;\n\nexport type LoadScriptParams = LocalScriptParams\n    | LocalStylesheetScriptParams\n    | ILoadRemoteScriptParams\n    | ILoadRemoteStylesheetScriptParams;\n\nexport type LoadScriptsParams = LoadScriptParams[];\n\nexport type LoadScriptsSequentiallyParams = LoadScriptsParams[];\n\nexport type LoadedScript<P extends ILoadScript['params']> =\n    P extends ILoadScriptParams ? HTMLScriptElement :\n    P extends ILoadStylesheetScriptParams ? HTMLStyleElement :\n    P extends ILoadRemoteScriptParams ? HTMLScriptElement :\n    P extends ILoadRemoteStylesheetScriptParams ? HTMLLinkElement :\n    never;\n\nexport type LoadedScripts<P extends LoadScriptsParams> =\n    P extends ILoadScriptParams[] ? HTMLScriptElement[] :\n    P extends ILoadStylesheetScriptParams[] ? HTMLStyleElement[] :\n    P extends ILoadRemoteScriptParams[] ? HTMLScriptElement[] :\n    P extends ILoadRemoteStylesheetScriptParams[] ? HTMLLinkElement[] :\n    never;\n\nexport type LoadedScriptsSequentially<P extends LoadScriptsSequentiallyParams> =\n    P extends ILoadScriptParams[][] ? HTMLScriptElement[] :\n    P extends ILoadStylesheetScriptParams[][] ? HTMLStyleElement[] :\n    P extends ILoadRemoteScriptParams[][] ? HTMLScriptElement[] :\n    P extends ILoadRemoteStylesheetScriptParams[][] ? HTMLLinkElement[] :\n    never;\n\nexport type GetElementParams = IGetElementTemplate | IGetElementUrl;\n\ndeclare global {\n    interface Window extends TsLib {\n        VamtigerBrowserMethod: {\n            loadScript: <P extends ILoadScript['params']>(params: P) => Promise<LoadedScript<P>>;\n            loadScripts: <P extends LoadScriptsParams>(params: P) => Promise<LoadedScripts<P>>;\n            loadScriptsSequentially: <P extends LoadScriptsSequentiallyParams>(params: P) => Promise<LoadedScriptsSequentially<P>>;\n            loadShadowStylesheet: (params: ILoadShadowStylesheet) => void;\n            defineCustomElement: (params: IDefineCustomElement) => void;\n            getElement: (params: GetElementParams) => Promise<HTMLElement>;\n            pause: (params: IPause) => Promise<{}>;\n        }\n    }\n\n    namespace NodeJS {\n        interface  Global {\n            VamtigerBrowserMethod: Window['VamtigerBrowserMethod'];\n        }\n    }\n}","import { IDefineCustomElement, ErrorMessage } from './types';\n\nconst { unsupportedFeature, customElementAreadyDefined } = ErrorMessage;\n\nexport default function defineCustomElement({ name, constructor, ignore }: IDefineCustomElement) {\n    const { customElements } = window;\n    const define = customElements && customElements.define;\n    const existingElement = define && customElements.get && customElements.get(name);\n\n    if (define && !existingElement) {\n        customElements.define(name, constructor);\n    } else if (existingElement) {\n        throw new Error(`${customElementAreadyDefined}: ${name}`);\n    } else if (!ignore) {\n        defineCustomElement({ name, constructor, ignore: true });\n    } else {\n        throw new Error(`${unsupportedFeature}: Custom Elements - ${name}`);\n    }\n}","import {\n    ILoadScript,\n    ErrorMessage,\n    LocalScriptParams,\n    LocalStylesheetScriptParams,\n    ILoadRemoteStylesheetScriptParams,\n    ILoadRemoteScriptParams,\n    LoadScriptElement,\n    LoadedScript,\n    LinkRel,\n    ScriptAttribute,\n    ScriptType\n} from './types';\n\nconst { failedToLoadScript } = ErrorMessage;\nconst { stylesheet } = LinkRel;\nconst { script: scriptElement, link, style } = LoadScriptElement;\n\nexport default <P extends ILoadScript['params']>(params: P) => new Promise((resolve: (script: LoadedScript<P>) => void, reject: ILoadScript['reject']) => {\n    const { head, body } = document;\n    const { js, name: scriptName, jsonld } = params as LocalScriptParams;\n    const { src } = params as ILoadRemoteScriptParams;\n    const { css, name: stylesheetName } = params as LocalStylesheetScriptParams;\n    const { href } = params as ILoadRemoteStylesheetScriptParams;\n    const remoteScript = params.hasOwnProperty('src') || params.hasOwnProperty('href');\n    const element = (js || src) && scriptElement\n        || css && style\n        || href && link;\n    const selector = src && `script[src=\"${src}\"]`\n        || href && `link[href=\"${href}\"]`\n        || js && scriptName && `script[data-name=\"${scriptName}\"]`\n        || css && stylesheetName && `style[data-name=\"${stylesheetName}\"]`;\n    const existingScript = (head.querySelector(selector) || body.querySelector(selector)) as LoadedScript<P>;\n    const script = selector\n        && element\n        && document.createElement(element) as LoadedScript<P>;\n\n    if (script instanceof HTMLScriptElement) {\n        if (src) {\n            script.src = src;\n        } else if (js) {\n            script.innerHTML = js;\n            script.dataset.name = scriptName;\n\n            if (jsonld) {\n                script.setAttribute(ScriptAttribute.type, ScriptType.jsonld);\n            }\n        }\n    } else if (script instanceof HTMLLinkElement) {\n        script.rel = stylesheet;\n        script.href = href;\n    } else if (script instanceof HTMLStyleElement) {\n        script.innerHTML = css;\n        script.dataset.name = stylesheetName;\n    }\n\n    if (existingScript) {\n        resolve(existingScript);\n    } else if (script) {\n        head.appendChild(script);\n\n        if (remoteScript) {\n            script.addEventListener('load', handleLoad);\n            script.addEventListener('error', handleLoadError);\n        } else {\n            resolve(script);\n        }\n    }\n\n    function handleLoad(event: Event) {\n        if (script) {\n            script.removeEventListener('load', handleLoad);\n\n            resolve(script);\n        }\n    }\n\n    function handleLoadError(event: Event) {\n        if (script) {\n            script.removeEventListener('error', handleLoadError);\n        }\n\n        console.error(event);\n\n        reject(new Error(`${failedToLoadScript}`));\n    }\n});","import VamtigerSkewContainer from './element';\n\nexport enum StringConstant {\n    nothing = ''\n}\n\nexport enum Selector {\n    style = 'style',\n    container = '[data-vamtiger-skew-container]',\n    input = 'input',\n    element = 'vamtiger-skew-container',\n    slot= 'slot'\n}\n\nexport enum ObservedAttributes {\n\n}\n\nexport enum DataAttribute {\n    focus = 'focus',\n    hide = 'hide',\n    right = 'right',\n    left = 'left',\n    center = 'center',\n    template = 'template',\n    templateSelector = 'templateSelector'\n}\n\nexport enum HideDataAttribute {\n    hideRight = 'hideRight',\n    hideLeft = 'hideLeft',\n}\n\nexport enum ToggleDirection {\n    right = 'right',\n    left = 'left'\n}\n\nexport interface IGetTemplate {\n    selector: Selector;\n    attributes?: IAttributes;\n    properties?: IProperties;\n}\n\nexport interface IAttributes {\n    id?: string;\n    for?: string;\n}\n\nexport interface IProperties {\n    innerHTML?: string;\n    name?: string;\n}\n\nexport interface IToggleHide {\n    element: VamtigerSkewContainer;\n    hideDirection?: ToggleDirection;\n}\n\nexport interface IToggleFocus {\n    element: VamtigerSkewContainer;\n    container: HTMLDivElement;\n}\n\nexport interface ILoadTemplate {\n    element: VamtigerSkewContainer;\n}\n\nexport type AttributesKey = keyof IAttributes;\n\nexport type ObservedAttribute = keyof typeof ObservedAttributes;\n\nexport type GetTemplate<P extends IGetTemplate> =\n    P['selector'] extends Selector.style ? HTMLStyleElement :\n    P['selector'] extends Selector.container ? HTMLDivElement :\n    P['selector'] extends Selector.slot ? HTMLSlotElement :\n    null;","import {\n    ObservedAttributes,\n    ObservedAttribute\n} from './types'\n\nexport const shadowRoot = {\n    mode: 'open'\n} as ShadowRootInit;\n\nexport const observedAttributes = Object.keys(ObservedAttributes) as ObservedAttribute[];","import {\n    IGetTemplate,\n    GetTemplate,\n    StringConstant,\n    AttributesKey\n} from './types';\nimport html from './html';\nimport css from './css';\n\nconst { nothing } = StringConstant;\nconst template = document.createElement('template');\nconst stylesheet = `<style>${css}</style>`\nconst templateHtml = [\n    stylesheet,\n    html\n].join(nothing);\n\ntemplate.innerHTML = templateHtml;\n\nexport default <P extends IGetTemplate>(params: P) => {\n    const {\n        selector,\n        attributes = {},\n        properties = {}\n    } = params;\n    const attributesKeys = Object.keys(attributes) as AttributesKey[]\n    const templateElement = template.content.querySelector(selector);\n    const currentTemplate = templateElement && templateElement.cloneNode(true) as GetTemplate<P>;\n\n    if (currentTemplate) {\n        Object.assign(currentTemplate, properties);\n\n        attributesKeys.forEach(key => attributes[key] && currentTemplate.setAttribute(key, attributes[key] || ''));\n    }\n\n    return currentTemplate;\n};","export default '<div data-vamtiger-skew-container></div><slot></slot>';","import {\n    IToggleHide,\n    ToggleDirection,\n    DataAttribute,\n    StringConstant,\n    Selector\n} from './types';\n\nconst { focus, hide } = DataAttribute;\nconst { nothing } = StringConstant\n\nexport default function ({ element, hideDirection }: IToggleHide) {\n    const { dataset } = element;\n    const { shadowRoot } = element;\n    const container = (shadowRoot as ShadowRoot).querySelector(Selector.container) as HTMLDivElement;\n\n    delete dataset[focus];\n    delete container.dataset[focus];\n\n    if (dataset.hasOwnProperty(hide)) {\n        delete dataset[hide];\n        delete container.dataset[hide];\n    } else {\n        dataset[hide] = dataset.hasOwnProperty(DataAttribute.left) &&  ToggleDirection.left\n            || dataset.hasOwnProperty(DataAttribute.right) &&  ToggleDirection.right\n            ||hideDirection\n            || nothing;\n        container.dataset[hide] = dataset[hide];\n    }\n}","import {\n    DataAttribute,\n    HideDataAttribute,\n    ToggleDirection,\n    StringConstant,\n    IToggleFocus\n} from './types';\nimport toggleHide from './toggle-hide';\nimport VamtigerSkewContainer from './element'\n\nconst { nothing } = StringConstant;\n\nexport default function({ element: currentElement, container }: IToggleFocus) {\n    const siblings = Array\n        .from(currentElement.parentElement && currentElement.parentElement.children || [])\n        .filter(child => child !== currentElement) as VamtigerSkewContainer[];\n    const { dataset } = currentElement;\n    const focus = !dataset.hasOwnProperty(DataAttribute.focus);\n    const focusDirection = focus && (dataset.hasOwnProperty(DataAttribute.right) && ToggleDirection.left || ToggleDirection.right);\n    const hideDirection = focusDirection && (focusDirection === ToggleDirection.right && ToggleDirection.right || focusDirection === ToggleDirection.left && ToggleDirection.left) || undefined;\n\n    siblings.forEach(element => toggleHide({ element, hideDirection }));\n\n    if (focus) {\n        dataset[DataAttribute.focus] = focusDirection || nothing;\n        container.dataset[DataAttribute.focus] = dataset[DataAttribute.focus]\n    } else {\n        delete dataset[DataAttribute.focus];\n        delete container.dataset[DataAttribute.focus];\n    }\n}","import {\n    IGetElementTemplate,\n    TagName,\n    ErrorMessage\n} from './types';\n\nconst { div } = TagName;\nconst {\n    noElementName,\n    noTemplate,\n    noElementForSelector\n} = ErrorMessage;\n\nexport default function ({ name, template }: IGetElementTemplate) {\n    const container = name && template && document.createElement(div);\n\n    let element: HTMLElement | null = null;\n\n    if (!name) {\n        throw new Error(noElementName);\n    } else if (!template) {\n        throw new Error(noTemplate);\n    }\n\n    if (container) {\n        container.innerHTML = template;\n\n        element = container.firstElementChild as HTMLElement;\n    }\n\n    if (!element) {\n        throw new Error(noElementForSelector);\n    }\n\n    element.dataset.name = name;\n\n    return element;\n}","import {\n    IGetElementUrl,\n    TagName,\n    ErrorMessage\n} from './types';\n\nconst { div } = TagName;\nconst {\n    noElementName,\n    noElementSelector,\n    noTemplateUrl,\n    noTemplateForUrl,\n    noElementForSelector\n} = ErrorMessage;\n\nexport default async function ({ name, url, selector }: IGetElementUrl) {\n    const template = name && selector && url && await fetch(url)\n        .then(response => response.text());\n    const container = template && document.createElement(div);\n\n    let element: HTMLElement | null = null;\n\n    if (!name) {\n        throw new Error(noElementName);\n    } else if (!selector) {\n        throw new Error(noElementSelector);\n    } else if (!url) {\n        throw new Error(noTemplateUrl);\n    } else if (!template) {\n        throw new Error(noTemplateForUrl);\n    }\n\n    if (container) {\n        container.innerHTML = template;\n\n        element = container.querySelector<HTMLElement>(selector);\n    }\n\n    if (!element) {\n        throw new Error(noElementForSelector);\n    }\n\n    element.dataset.name = name;\n\n    return element;\n}","import {\n    GetElementParams,\n    IGetElementTemplate,\n    IGetElementUrl\n} from './types';\nimport getElementFromTemplate from './get-element-from-template';\nimport getElementFromUrl from './get-element-from-url';\n\nexport default async function<P extends GetElementParams>(params: P) {\n    if ((params as IGetElementUrl).url) {\n        return await getElementFromUrl(params as IGetElementUrl);\n    } else {\n        return getElementFromTemplate(params as IGetElementTemplate);\n    }\n}","import loadScript from '../node_modules/vamtiger-browser-method/source/load-script';\nimport {\n    Selector,\n    ObservedAttribute,\n    DataAttribute,\n    StringConstant\n} from './types';\nimport {\n    shadowRoot as shadowRootConfig,\n    observedAttributes\n} from './config';\nimport css from './css/document-index';\nimport getTemplate from './get-template';\nimport toggleFocus from './toggle-focus';\nimport loadTemplate from './load-template';\n\nconst { nothing } = StringConstant;\n\nlet count = 0;\n\nexport const name = 'vamtiger-skew-container';\n\nloadScript({ name, css })\n    .catch(console.error);\n\nexport default class VamtigerSkewContainer extends HTMLElement {\n    constructor() {\n        super();\n\n        const { dataset } = this;\n        const shadowRoot = this.attachShadow(shadowRootConfig);\n        const stylesheet = getTemplate({\n            selector: Selector.style\n        });\n        const container = getTemplate({\n            selector: Selector.container\n        });\n        const slot = getTemplate({\n            selector: Selector.slot,\n            properties: {\n                name\n            }\n        });\n        const elements = [\n            stylesheet,\n            container\n        ];\n\n        if (dataset.hasOwnProperty(DataAttribute.right) && container) {\n            container.dataset.right = nothing;\n        } else if (dataset.hasOwnProperty(DataAttribute.left) && container) {\n            container.dataset.left = nothing;\n        } else if (dataset.hasOwnProperty(DataAttribute.center) && container) {\n            container.dataset.center = nothing;\n        }\n\n        if (container) {\n            slot && container.appendChild(slot);\n\n            container.addEventListener('click', () => toggleFocus({ element: this, container }));\n        }\n\n        elements.forEach(element => element && shadowRoot.appendChild(element));\n    }\n\n    static get observedAttributes() {\n        return observedAttributes;\n    }\n\n    async connectedCallback() {\n        await loadTemplate({\n            element: this\n        });\n    }\n\n    attributeChangedCallback(name: ObservedAttribute, oldValue: string, newValue: string) {\n\n    }\n}","export default `vamtiger-skew-container[data-right]{z-index:0}vamtiger-skew-container[data-center]{z-index:1}vamtiger-skew-container[data-left]{z-index:2}\n/*# sourceMappingURL=document-index.ts.map */`;","import defineCustomElement from '../node_modules/vamtiger-browser-method/source/define-custom-element';\nimport constructor, { name } from './element';\n\ndefineCustomElement({\n    name,\n    constructor\n});","import getElement from '../node_modules/vamtiger-browser-method/source/get-element';\nimport {\n    ILoadTemplate,\n    DataAttribute,\n    Selector\n} from './types';\nimport { name } from './element';\n\nexport default async function ({ element }: ILoadTemplate) {\n    const { dataset } = element;\n    const {\n        [DataAttribute.template]: url,\n        [DataAttribute.templateSelector]: selector\n    } = dataset;\n    const template = url && selector && await getElement({\n        name: url,\n        url,\n        selector\n    });\n\n    if (template) {\n        template.slot = name;\n\n        element.appendChild(template);\n    }\n}"],"names":["ScriptType","ScriptAttribute","ErrorMessage","StringConstant","TagName","LinkRel","LoadScriptElement","Selector","unsupportedFeature","customElementAreadyDefined","failedToLoadScript","stylesheet","script","scriptElement","link","style","ObservedAttributes","DataAttribute","HideDataAttribute","ToggleDirection","shadowRoot","mode","observedAttributes","Object","keys","nothing","template","document","createElement","templateHtml","join","innerHTML","params","selector","attributes","properties","attributesKeys","templateElement","content","querySelector","currentTemplate","cloneNode","assign","forEach","key","setAttribute","focus","hide","element","hideDirection","dataset","container","hasOwnProperty","left","right","div","noElementName","noTemplate","noElementForSelector","noElementSelector","noTemplateUrl","noTemplateForUrl","url","name","fetch","then","response","text","Error","getElementFromUrl","firstElementChild","getElementFromTemplate","Promise","resolve","reject","head","body","js","scriptName","jsonld","src","css","stylesheetName","href","remoteScript","existingScript","HTMLScriptElement","type","HTMLLinkElement","rel","HTMLStyleElement","appendChild","addEventListener","handleLoad","event","removeEventListener","handleLoadError","console","error","loadScript","catch","defineCustomElement","constructor","ignore","customElements","window","define","existingElement","get","HTMLElement","[object Object]","super","this","attachShadow","shadowRootConfig","getTemplate","slot","elements","center","currentElement","siblings","Array","from","parentElement","children","filter","child","focusDirection","undefined","toggleHide","toggleFocus","templateSelector","getElement","loadTemplate","oldValue","newValue"],"mappings":"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"}